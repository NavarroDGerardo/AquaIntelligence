<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" type="text/css" href="Style.css">
	<script src="js/jquery-3.1.1.min.js"></script>
	<script src="js/store.everything.min.js"></script>	   
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300" rel="stylesheet">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-118743862-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() { dataLayer.push(arguments); }
	gtag('js', new Date());

	gtag('config', 'UA-118743862-1');
</script>

</head>
<body>
	<div id="newWrapper">
		<header id="newHeader">
			<img id="name" src="Name.png">
			<img class="socialIndex" src="facebook.svg">
			<img class="socialIndex" src="instagram.svg">
			<img class="socialIndex		" src="pinterest.svg">
		</header>
		<div id="mainM">

			<ul>
				<li class="mainBar"><a href="index.html" class="zelda">Evaluation</li>
				<li class="mainBar"><a target="_blank" href="about.pdf" class="zelda">About</a></li>
				<li class="mainBar"><a target="_blank" href="Rq.pdf" class="zelda">Requirements</a></li>
				<li class="mainBar"><a target="_blank" href="https://marvelapp.com/611f31b/screen/39066284" class="zelda">Marvel app </a></li>
				<li class="mainBar"><a target="_blank" href="personas.pdf" class="zelda">Personas</a></li>
			</ul>

			<img src="menu.png" id="hamIndex">
		</div>

		<div id="indexNav">
        	<h4 class="opcionesIndex"><a target="_blank" href="Evaluations.pdf" class="zelda">Evaluation</a></h4>
			<h4 class="opcionesIndex"><a target="_blank" href="about.pdf" class="zelda">About</a></h4>
			<h4 class="opcionesIndex"><a target="_blank" href="Rq.pdf" class="zelda">Requirements</a></h4>
			<h4 class="opcionesIndex"><a target="_blank" href="https://marvelapp.com/611f31b/screen/39066284" class="zelda">Marvel app </a></h4>
			<h4 class="opcionesIndex"><a target="_blank" href="personas.pdf" class="zelda">Personas</a></h4>
        </div>

		<div id="fishT">

			<div id="signUp">
				<h1 id="mainPSign">Sign up</h1>
				<hr>
				<br>
				<input id="nameField" type="text" placeholder="Full name" name="username" size="30" maxlength="20" required="">
				<br>
				<input id="emailField" type="email" placeholder="Email" name="username" size="30" maxlength="20" required="">
				<br>
				<input id="pswdField" type="password" placeholder="Password" name="username" size="30" maxlength="20" required="">
				<br>
				<button id="botonMenuP">Create your account</button>
				<p class="mParaMainP">By creating an account, you agree our <a href="#">Terms</a></p>
				<p class="mParaMainP">Already have an account? <a href="index.html">Log in</a></p>
			</div>

		</div>

		<script>

		$('#botonMenuP').on('click', function(){
			var name = $('#nameField').val()
			var email = $('#emailField').val()
			var pswd = $('#pswdField').val()
			
			var users = store.get('users')
			if(users == undefined ){
				users = []
			}

			if(isEmailValid(users, email)==0
			&& name != ''
			&& email != ''
			&& pswd != ''){
				
				users.push({
					name: name,
					email: email,
					pswd: pswd
				})

				store.set('users', users)
				store.set('actualUserName', name)
				console.log('Lo guardé')
				window.location.href = "./Menu.html";
				alert('Usuario creado!')

			}else{
				alert('ERROR Ya existe este usuario o los campos están vacíos')
			}

			console.log(`${JSON.stringify(users)}`)
		})

		function isEmailValid(users, email){

			var equalUsers = users.filter(function(user){
				return user.email === email
			})

			return equalUsers.length

		}

		var navopened = false;
		
        $('#hamIndex').on('click', function(){
            $('#indexNav').slideToggle();
        });

	</script>
</body>
</html>